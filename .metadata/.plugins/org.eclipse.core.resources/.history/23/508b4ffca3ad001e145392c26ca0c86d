package gestionbibliotheque;

import com.itextpdf.text.Document;
import com.itextpdf.text.DocumentException;
import com.itextpdf.text.Paragraph;
import com.itextpdf.text.pdf.PdfWriter;

import java.io.FileOutputStream;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

public class RapportPDFGenerator {

    public static void main(String[] args) {
        try {
            // Établir une connexion à la base de données (à adapter selon ta configuration)
            Connection connection = DriverManager.getConnection("jdbc:mysql://localhost:3306/ta_base_de_donnees", "utilisateur", "mot_de_passe");

            // Exécuter une requête SQL pour récupérer des données (à adapter selon tes besoins)
            Statement statement = connection.createStatement();
            ResultSet resultSet = statement.executeQuery("SELECT * FROM ta_table");

            // Créer un document PDF
            Document document = new Document();
            PdfWriter.getInstance(document, new FileOutputStream("chemin/vers/ton/rapport.pdf"));
            document.open();

            // Ajouter des données au document PDF (à adapter selon tes besoins)
            while (resultSet.next()) {
                String champ1 = resultSet.getString("champ1");
                String champ2 = resultSet.getString("champ2");

                document.add(new Paragraph("Champ1: " + champ1));
                document.add(new Paragraph("Champ2: " + champ2));
                document.add(new Paragraph("---------------------------"));
            }

            // Fermer le document
            document.close();

            // Fermer la connexion à la base de données
            connection.close();

            System.out.println("Le rapport PDF a été généré avec succès.");

        } catch (SQLException | DocumentException e) {
            e.printStackTrace();
        }
    }
}
